import{f as S,g as I}from"./chunk-Y6U22JCL.js";import{Ea as p,Eb as P,Fb as y,Hb as x,Ma as r,Na as _,Oa as f,P as v,Ua as C,Wa as O,ea as c,f as b,fa as s,la as g,lb as h,mb as k,oa as l,sb as M,wa as t,xa as n,ya as u}from"./chunk-HURRB3F2.js";var L=e=>["/library/book",e];function E(e,a){e&1&&(t(0,"div",8),r(1," Loading available books... "),n())}function B(e,a){if(e&1&&(t(0,"div",9),r(1),n()),e&2){let o=p();c(),f(" ",o.error," ")}}function H(e,a){e&1&&(t(0,"div",10)(1,"p"),r(2,"Sorry, we don't have any books available for presentation at the moment."),n(),t(3,"p"),r(4,"Please check back later or "),t(5,"a",11),r(6,"log in"),n(),r(7," to access your personal content."),n()())}function F(e,a){if(e&1&&(t(0,"div",15)(1,"h3"),r(2),n()()),e&2){let o=a.$implicit;l("routerLink",O(2,L,o.urlSlug)),c(2),_(o.title)}}function w(e,a){if(e&1&&(t(0,"div",12)(1,"h2"),r(2,"Available Books"),n(),t(3,"div",13),g(4,F,3,4,"div",14),n()()),e&2){let o=p();c(4),l("ngForOf",o.libraryBooks)}}var d=class e{constructor(a,o,i){this.libraryService=a;this.layoutService=o;this.router=i;this.subscription.add(this.libraryService.getBooks().subscribe({next:m=>{this.libraryBooks=m,this.loading=!1,console.log("Library books loaded:",m),m.length===1&&this.router.navigate(["/library/book",m[0].urlSlug])},error:m=>{console.error("Error fetching library books:",m),this.error="Failed to load books. Please try again later.",this.loading=!1}}))}subscription=new b;libraryBooks=[];loading=!0;error="";ngOnInit(){this.layoutService.setLayoutMode("reader")}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)(s(I),s(S),s(P))};static \u0275cmp=v({type:e,selectors:[["app-home"]],standalone:!0,features:[C],decls:13,vars:4,consts:[[1,"home-container"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],["class","no-content",4,"ngIf"],["class","book-list",4,"ngIf"],[1,"footer-links"],["routerLink","/about"],["routerLink","/upload"],[1,"loading"],[1,"error"],[1,"no-content"],["routerLink","/login"],[1,"book-list"],[1,"books"],["class","book-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"book-card",3,"routerLink"]],template:function(o,i){o&1&&(t(0,"div",0)(1,"h1"),r(2,"Welcome to AI Knowledge Studio"),n(),g(3,E,2,0,"div",1)(4,B,2,1,"div",2)(5,H,8,0,"div",3)(6,w,5,1,"div",4),t(7,"div",5),u(8,"hr"),t(9,"a",6),r(10,"About"),n(),t(11,"a",7),r(12,"Upload"),n()()()),o&2&&(c(3),l("ngIf",i.loading),c(),l("ngIf",i.error),c(),l("ngIf",!i.loading&&!i.error&&i.libraryBooks.length===0),c(),l("ngIf",!i.loading&&!i.error&&i.libraryBooks.length>0))},dependencies:[M,h,k,x,y],styles:[".home-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.home-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.home-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .home-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%], .home-container[_ngcontent-%COMP%]   .no-content[_ngcontent-%COMP%]{text-align:center;margin:2rem 0}.home-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#e53935}.home-container[_ngcontent-%COMP%]   .book-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.home-container[_ngcontent-%COMP%]   .book-list[_ngcontent-%COMP%]   .books[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}.home-container[_ngcontent-%COMP%]   .book-list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:var(--border-radius-md);padding:var(--space-md);margin-bottom:var(--space-md)}.home-container[_ngcontent-%COMP%]   .book-list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{color:var(--color-text-primary);font-weight:500;font-size:var(--font-size-lg);margin-bottom:var(--space-sm)}.home-container[_ngcontent-%COMP%]   .book-list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]   .book-description[_ngcontent-%COMP%]{color:var(--color-text-primary);margin-bottom:var(--space-sm)}.home-container[_ngcontent-%COMP%]   .book-list[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a;transform:translateY(-2px);transition:all .2s ease}.home-container[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{margin-top:3rem;text-align:center}.home-container[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid var(--color-border);margin:2rem 0 1.5rem}.home-container[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 1rem;color:var(--color-text-primary);text-decoration:none}.home-container[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var $=[{path:"",component:d}];export{d as HomeComponent,$ as routes};
