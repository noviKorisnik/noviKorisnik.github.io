<!DOCTYPE html>
<html>
<head>
    <script>
        const path = window.location.pathname;
        const searchParams = window.location.search;

        const knownAppFolders = ['aix', 'portfolio']; // Define all your Angular app subfolders
        
        let targetBasePath = '/portfolio/'; // Default redirect to 'portfolio' app's base
        let targetAppRelativePath = '/'; // Default internal path for the target app

        const pathSegments = path.split('/').filter(segment => segment.length > 0);

        if (pathSegments.length > 0) {
            const firstSegment = pathSegments[0];
            if (knownAppFolders.includes(firstSegment)) {
                // User tried to access a path under a known app folder (e.g., /aix/some/page)
                targetBasePath = `/${firstSegment}/`;
                // Capture the path *after* the app folder for Angular's router
                targetAppRelativePath = `/${pathSegments.slice(1).join('/')}${searchParams}`;
                if (targetAppRelativePath !== '') {
                    localStorage.setItem('redirect', targetAppRelativePath);
                }
            }
        }
        
        // Always redirect the browser to the determined base path of the app
        window.location.href = targetBasePath;
    </script>
</head>
<body>
</body>
</html>